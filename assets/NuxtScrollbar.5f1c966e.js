import{_ as k}from"./client-only.c7c8607f.js";import{x as j,s as m,y as b,u as R,z as A,_ as N}from"./entry.166d63d7.js";import{a as _,s as H,t as M,ag as z,aa as D,b as K,u as E,g as O,ah as S,r as q,a5 as I,A as x,L as P,M as h,R as T,O as W,P as F,F as w,N as L,J as G,ai as J}from"./swiper-vue.417367aa.js";function U(...n){var g;const i=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(i);let[e,c,t={}]=n;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const a=m(),d=()=>null,p=()=>a.isHydrating?a.payload.data[e]:a.static.data[e];t.server=t.server??!0,t.default=t.default??d,t.getCachedData=t.getCachedData??p,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??j.deep;const l=()=>![null,void 0].includes(t.getCachedData(e));if(!a._asyncData[e]||!t.immediate){(g=a.payload._errors)[e]??(g[e]=null);const o=t.deep?_:H;a._asyncData[e]={data:o(t.getCachedData(e)??t.default()),pending:_(!l()),error:M(a.payload._errors,e),status:_("idle")}}const s={...a._asyncData[e]};s.refresh=s.execute=(o={})=>{if(a._asyncDataPromises[e]){if(o.dedupe===!1)return a._asyncDataPromises[e];a._asyncDataPromises[e].cancelled=!0}if((o._initial||a.isHydrating&&o._initial!==!1)&&l())return Promise.resolve(t.getCachedData(e));s.pending.value=!0,s.status.value="pending";const y=new Promise((r,u)=>{try{r(c(a))}catch(B){u(B)}}).then(r=>{if(y.cancelled)return a._asyncDataPromises[e];let u=r;t.transform&&(u=t.transform(r)),t.pick&&(u=V(u,t.pick)),a.payload.data[e]=u,s.data.value=u,s.error.value=null,s.status.value="success"}).catch(r=>{if(y.cancelled)return a._asyncDataPromises[e];s.error.value=b(r),s.data.value=E(t.default()),s.status.value="error"}).finally(()=>{y.cancelled||(s.pending.value=!1,delete a._asyncDataPromises[e])});return a._asyncDataPromises[e]=y,a._asyncDataPromises[e]};const f=()=>s.refresh({_initial:!0}),$=t.server!==!1&&a.payload.serverRendered;{const o=O();if(o&&!o._nuxtOnBeforeMountCbs){o._nuxtOnBeforeMountCbs=[];const r=o._nuxtOnBeforeMountCbs;o&&(z(()=>{r.forEach(u=>{u()}),r.splice(0,r.length)}),D(()=>r.splice(0,r.length)))}$&&a.isHydrating&&(s.error.value||l())?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):o&&(a.payload.serverRendered&&a.isHydrating||t.lazy)&&t.immediate?o._nuxtOnBeforeMountCbs.push(f):t.immediate&&f(),t.watch&&K(t.watch,()=>s.refresh());const y=a.hook("app:data:refresh",async r=>{(!r||r.includes(e))&&await s.refresh()});o&&D(y)}const v=Promise.resolve(a._asyncDataPromises[e]).then(()=>s);return Object.assign(v,s),v}function V(n,i){const e={};for(const c of i)e[c]=n[c];return e}const C="__nuxt_component";async function Q(n,i){const e=m(),c=A(),t=O(),{fetchKey:a,_fetchKeyBase:d}=t.proxy.$options,p=(typeof a=="function"?a(()=>""):a)||[d,c.fullPath,c.matched.findIndex(f=>Object.values(f.components||{}).includes(t.type))].join(":"),{data:l,error:s}=await U(`options:asyncdata:${p}`,()=>e.runWithContext(()=>i(e)));if(s.value)throw b(s.value);l.value&&typeof l.value=="object"&&Object.assign(await n,S(q(l.value)))}const X=function(...i){const[e,c]=i,{setup:t}=e;return!t&&!e.asyncData&&!e.head?{[C]:!0,...e}:{[C]:!0,_fetchKeyBase:c,...e,setup(a,d){const p=m(),l=t?Promise.resolve(p.runWithContext(()=>t(a,d))).then(f=>f||{}):{},s=[];if(e.asyncData&&s.push(Q(l,e.asyncData)),e.head){const f=m();R(typeof e.head=="function"?()=>e.head(f):e.head)}return Promise.resolve(l).then(()=>Promise.all(s)).then(()=>l).finally(()=>{s.length=0})}}},Y=X({props:{options:{type:Object,required:!1,default:()=>({})},tag:{type:String,required:!1,default:"div"},watchOptions:{type:Boolean,required:!1,default:!1}},computed:{handlers(){return["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"].reduce((i,e)=>(i[e]=(...c)=>this.$emit(e,...c),i),{})}}},"$5GjKioyWkT");function Z(n,i,e,c,t,a){const d=I("perfect-scrollbar"),p=k;return x(),P(p,null,{fallback:h(()=>[(x(),P(T(n.tag),W(F(n.$attrs)),{default:h(()=>[w(n.$slots,"default")]),_:3},16))]),default:h(()=>[L(d,G({ref:"el",tag:n.tag,options:n.options,"watch-options":n.watchOptions},n.$attrs,J(n.handlers)),{default:h(()=>[w(n.$slots,"default")]),_:3},16,["tag","options","watch-options"])]),_:3})}const se=N(Y,[["render",Z]]);export{se as default};
